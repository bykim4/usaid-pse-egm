<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <title>USAID Evidence Gap Map</title>

    <!-- Bootstrap core CSS -->

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />

    <!-- Bootstrap Multiselect -->
    <!-- <link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css"/>  -->

    <!-- Font Awesome -->
    <link href="css/all.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css">

    <!-- Custom styles -->
    <link href="css/igd-egm.css" rel="stylesheet" />
  </head>

  <body class="d-flex flex-column h-100">
  <div id="app" v-cloak>
    <transition>
      <div v-if="loading" class="d-flex justify-content-center">
        <div class="spinner-border loading-spinner" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
      <div v-else>
      <keep-alive include="egm_layout">
        <router-view :documents="documents" :filter_categories="filter_categories"></router-view>
      </keep-alive>
      </div>
    </transition>
  </div>

    <footer class="footer mt-auto bg-dark">
      <div class="wash-200">
        <div class="container-fluid">
          <div class="row py-4">
            <div class="col-lg-3 desc-col text-center text-lg-left">
              <p class="my-0 text-muted pb-4 pb-lg-0">
                This work is a partnership between USAID, the University of
                Notre Dame, and Purdue University. It is funded under grant #.
              </p>
            </div>
            <div class="col-lg-9">
              <div class="row brand-line">
                <div class="col-sm-4 py-3">
                  
+                  <a href="https://www.nd.edu" target ="_blank">
                  <img
                    src="images/nd_mark_blue.png"
                    class="img-fluid img-50"
                    alt="Notre Dame logo"
                  />
                  </a>
                </div>
                <div class="col-sm-4 py-3">
                  <a href="https://www.usaid.gov" target ="_blank">
                  <img
                    src="images/usaid-logo.png"
                    class="img-fluid img-65"
                    alt="USAID Dame"
                  />
                  </a>
                </div>
                <div class="col-sm-4 py-3">
                  <a href="https://www.purdue.edu" target ="_blank">
                  <img
                    src="images/purdue.png"
                    class="img-fluid img-50"
                    alt="Purdue logo"
                  />
                </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid">
        <div class="row py-3 cpy-line">
          <div class="col-md-6">
            <p class="text-white-50 mb-0 text-center text-md-left">
              Copyright &copy; 2020
              <a class="text-reset" href="https://www.nd.edu"
                >University of Notre Dame</a
              >
            </p>
          </div>
          <div class="col-md-6">
            <p class="text-white-50 mb-0 text-center text-md-right">
              <a class="text-reset" href="https://pulte.nd.edu"
                >Pulte Institute for Global Development</a
              >
            </p>
          </div>
        </div>
      </div>
    </footer>

    <script type="text/x-template" id="egm-layout">
      <div>
        <header>
          <div class="bg-dark">
            <div class="container" id="top-container">
              <div class="row mt-3 mb-2 align-items-center">
                <div class="col-md-4">
                  <h1 id="egm-title" class="my-0 text-vb-lt-blue">Evidence Gap Map</h1>
                  <h5 id="egm-tagline" class="mt-1 mb-0 text-soft font-weight-light">Engagement mapped to key values</h5>
                </div>
                <div class="col-md-8">
                  <p class="p-inst text-soft mt-2 mb-0 d-none d-md-block">
                    Use the map to identify gaps and locate relevant documents. Click a circle to see the documents matching a particular engagment &ndash; value pair. Use filters to narrow the documents displayed on the map, or search for documents in list view.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </header>
        <main role="main">
          <div class="wash-200">
            <div class="container-fluid pt-3 pb-4 mb-4">
              <div class="row pb-3 justify-content-center">
                <div class="col-auto">
                  <ul class="nav nav-map-toggle">
                    <li class="nav-item">
                      <a class="nav-link disabled" href="#">View as:</a>
                    </li>
                    <li class="nav-item">
                      <router-link :to="{name: 'egm'}" class="nav-link text-uppercase">Map</router-link>
                    </li>
                    <li class="nav-item">
                      <router-link :to="{name: 'list'}" class="nav-link text-uppercase">List</router-link>
                    </li>
                    
                  </ul>
                </div>
              </div>


              <div class="row no-gutters align-items-center">

                <div class="col-md-11">
                  <div class="row no-gutters filters" id="filter-row">
    


                    <div class="col-md-2">
                      <vue-multiselect v-model="filters.region" :searchable="false" :multiple="true" :showLabels="false" :closeOnSelect="false" :options="filter_categories['USAID Region']" @input="filter_change">
                        <template slot="selection" slot-scope="{ values }">
                          <span class="multiselect__single" v-if="values.length > 1">{{ values.length }} options selected</span>
                          <span class="multiselect__single" v-else-if="values.length === 1">{{ values[0] }}</span>
                          <span class="multiselect__single" v-else>USAID Region</span>
                          <!-- <span class="multiselect__single" v-else>USAID Region</span> -->
                        </template>
                      </vue-multiselect>
                      <!-- <select class="custom-select" :class="{ 'bg-selected-blue': filters.region !== '' }" id="selector01" v-model="filters.region" @change="filter_change">
                        <option selected value="">USAID Region</option>
                        <option v-for="region in filter_categories['USAID Region']">
                          {{ region }}
                        </option>
                      </select> -->
                    </div>
                    <div class="col-md-2">
                      <vue-multiselect v-model="filters.country" :searchable="false" :multiple="true" :showLabels="false" :closeOnSelect="false" :options="filter_categories['Country(ies)']" @input="filter_change">
                        <template slot="selection" slot-scope="{ values }">
                          <span class="multiselect__single" v-if="values.length > 1">{{ values.length }} options selected</span>
                          <span class="multiselect__single" v-else-if="values.length === 1">{{ values[0] }}</span>
                          <span class="multiselect__single" v-else>Country(ies)</span>
                          <!-- <span class="multiselect__single" v-else>USAID Region</span> -->
                        </template>
                        <template slot="option" slot-scope="props">
                          <div class="option__desc"><span class="option__title">{{ props.option }}</span></div>
                        </template>
                      </vue-multiselect>
                    </div>
                    <div class="col-md-2">
                      <vue-multiselect v-model="filters.technical_sector" :searchable="false" :multiple="true" :showLabels="false" :closeOnSelect="false" :options="filter_categories['Technical Sector']" @input="filter_change">
                        <template slot="selection" slot-scope="{ values }">
                          <span class="multiselect__single" v-if="values.length > 1">{{ values.length }} options selected</span>
                          <span class="multiselect__single" v-else-if="values.length === 1">{{ values[0] }}</span>
                          <span class="multiselect__single" v-else>Technical Sector</span>
                          <!-- <span class="multiselect__single" v-else>USAID Region</span> -->
                        </template>
                      </vue-multiselect>
                    </div>
                    <div class="col-md-2">
                      <vue-multiselect v-model="filters.industry" :searchable="false" :multiple="true" :showLabels="false" :closeOnSelect="false" :options="filter_categories['Private Sector Industry']" @input="filter_change">
                        <template slot="selection" slot-scope="{ values }">
                          <span class="multiselect__single" v-if="values.length > 1">{{ values.length }} options selected</span>
                          <span class="multiselect__single" v-else-if="values.length === 1">{{ values[0] }}</span>
                          <span class="multiselect__single" v-else>Private Sector Industry</span>
                          <!-- <span class="multiselect__single" v-else>USAID Region</span> -->
                        </template>
                      </vue-multiselect>
                      <!-- <select class="custom-select" :class="{ 'bg-selected-blue': filters.industry !== '' }" id="selector03" v-model="filters.industry" @change="filter_change">
                        <option selected value="">Private Sector Industry</option>
                        <option v-for="industry_name in filter_categories['Private Sector Industry']">
                          {{ industry_name }}
                        </option>
                      </select> -->
                    </div>
                    <div class="col-md-2">
                      <vue-multiselect v-model="filters.enterprise_type" :searchable="false" :multiple="true" :showLabels="false" :closeOnSelect="false" :options="filter_categories['Type of Enterprise']" @input="filter_change">
                        <template slot="selection" slot-scope="{ values }">
                          <span class="multiselect__single" v-if="values.length > 1">{{ values.length }} options selected</span>
                          <span class="multiselect__single" v-else-if="values.length === 1">{{ values[0] }}</span>
                          <span class="multiselect__single" v-else>Type of Enterprise</span>
                          <!-- <span class="multiselect__single" v-else>USAID Region</span> -->
                        </template>
                      </vue-multiselect>
                      <!-- <select class="custom-select" :class="{ 'bg-selected-blue': filters.enterprise_type !== '' }" id="selector04" v-model="filters.enterprise_type" @change="filter_change">
                        <option selected value="">Type of Enterprise</option>
                        <option v-for="enterprise_type in filter_categories['Type of Enterprise']">
                          {{ enterprise_type }}
                        </option>
                      </select> -->
                    </div>
                    <div class="col-md-2">
                      <vue-multiselect v-model="filters.resource_type" :searchable="false" :multiple="true" :showLabels="false" :closeOnSelect="false" :options="filter_categories['Type of Document']" @input="filter_change">
                        <template slot="selection" slot-scope="{ values }">
                          <span class="multiselect__single" v-if="values.length > 1">{{ values.length }} options selected</span>
                          <span class="multiselect__single" v-else-if="values.length === 1">{{ values[0] }}</span>
                          <span class="multiselect__single" v-else>Type of Document</span>
                          <!-- <span class="multiselect__single" v-else>USAID Region</span> -->
                        </template>
                      </vue-multiselect>
                      <!-- <select class="custom-select" :class="{ 'bg-selected-blue': filters.resource_type !== '' }" id="selector07" v-model="filters.resource_type" @change="filter_change">
                        <option selected value="">Resource Type</option>
                        <option v-for="document_type in filter_categories['Type of Document']">
                          {{ document_type }}
                        </option>
                      </select> -->
                    </div>


                </div>
              </div>

              <div class="col-md-1 text-center text-md-left">
                <a class="btn btn-light btn-sm rounded-pill ml-2 mt-2 mt-md-1 text-small" role="button" title="Reset filters" @click="reset_filters"><i class="fas fa-redo"></i> Reset</a>
              </div>
            </div> <!-- end filters -->

              <div class="row pt-3 justify-content-center">
                <div class="col-sm-12 col-lg-8">
                  <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search by Author, Title, Key Findings..." aria-label="Search" aria-describedby="basic-addon2" v-model="search" v-on:keyup.enter="filter_change">
                    <div class="input-group-append" @click="filter_change" style="cursor:pointer">
                      <span class="input-group-text" id="basic-addon2"><i class="fas fa-search"></i></span>
                    </div>
                  </div>
                </div>
              </div> <!-- end search bar -->

            </div>
          </div>

          <keep-alive>
              <router-view :filtered_documents="filtered_documents"></router-view>
          </keep-alive>
        </main>
      </div>
    </script>


    <script type="text/x-template" id="map-component">
      <div>
          <div v-if="true" class="container-fluid" id="table-container">

            <div class="row no-gutters d-none d-lg-block">
              <table class="table egm-table" id="combined-table">
                <thead>
                <tr>
                  <th scope="col" class="set-group-title-vert-width"></th>
                  <th scope="col"></th>
                  <th scope="colgroup" colspan="5" class="group-title group-title-pse">
                    Private Sector Value Propositions
                    <a
                            href="#"
                            data-toggle="tooltip"
                            data-placement="bottom"
                            title="PSE, or Private sector engagement, key values are..."
                    >
                      <i class="fas fa-info-circle"></i>
                    </a>
                  </th>
                  <th scope="colgroup" colspan="5" class="group-title group-title-usaid">
                    Development Actor Value Propositions
                    <a
                            href="#"
                            data-toggle="tooltip"
                            data-placement="bottom"
                            title="USAID offers a set of key values..."
                    >
                      <i class="fas fa-info-circle"></i>
                    </a>
                  </th>
                  <th scope="col" class=""></th>
                  <th
                          scope="col"
                          class="set-group-title-vert-width"
                  ></th>
                </tr>
                <tr>
                  <th scope="col"></th>
                  <th scope="col"></th>
                  <th
                          scope="col"
                          class="value"
                          title="Ability to Influence Policy"
                  >
                    <div class="clip-content">Ability</div>
                    <div class="clip-content">to Influence</div>
                    <div class="clip-content">Policy</div>
                  </th>
                  <th
                          scope="col"
                          class="value"
                          title="Efficiency & Effectiveness"
                  >
                    <div class="clip-content">Efficiency</div>
                    <div class="clip-content">& Effectiveness</div>
                  </th>
                  <th scope="col" class="value" title="Flexibility & Pace">
                    <div class="clip-content">Flexibility</div>
                    <div class="clip-content">& Pace</div>
                  </th>
                  <th
                          scope="col"
                          class="value"
                          title="Innovation, Expertise, and Capabilities"
                  >
                    <a
                            class="reset-color"
                            data-toggle="modal"
                            data-target="#valueModal"
                            style="cursor:pointer"
                    >
                      <div class="clip-content">Innovation,</div>
                      <div class="clip-content">Expertise,</div>
                      <div class="clip-content">& Capabilities</div>
                    </a>
                  </th>
                  <th
                          scope="col"
                          class="value"
                          title="Scale, Sustainability, & Reach"
                  >
                    Scale,
                    <div class="clip-content">Sustainability,</div>
                    <div class="clip-content">& Reach</div>
                  </th>
                  <th
                          scope="col"
                          class="value"
                          title="Reputation & Credible Convening Power"
                  >
                    Reputation
                    <div class="clip-content">& Credible</div>
                    <div class="clip-content">Convening Power</div>
                  </th>
                  <th
                          scope="col"
                          class="value"
                          title="Risk-Mitigation & Flexible Authorities"
                  >
                    <div class="clip-content">Risk-Mitigation</div>
                    <div class="clip-content">& Flexible</div>
                    <div class="clip-content">Authorities</div>
                  </th>
                  <th
                          scope="col"
                          class="value"
                          title="Sectoral Expertise & Knowledge"
                  >
                    Sectoral Expertise
                    <div class="clip-content">& Knowledge</div>
                  </th>
                  <th
                          scope="col"
                          class="value"
                          title="Strong In-Country Networks & Relationships"
                  >
                    Strong
                    <div class="clip-content">In-Country</div>
                    <div class="clip-content">Networks & Relationships</div>
                  </th>
                  <th
                          scope="col"
                          class="value"
                          title="Support to Strengthen Enabling Environments"
                  >
                    Support
                    <div class="clip-content">to Strengthen</div>
                    <div class="clip-content">Enabling Environments</div>
                  </th>
                  <th scope="col" class=""></th>
                  <th scope="col" class=""></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                  <th class="group-title-vert" rowspan="6">
                    <div class="title-rotate">
                      Ways We Engage
                      <a
                              href="#"
                              data-toggle="tooltip"
                              data-placement="right"
                              title="We engage in a number of ways..."
                      >
                        <i class="fas fa-info-circle"></i>
                      </a>
                    </div>
                  </th>
                  <th
                          scope="row"
                          class="engage"
                          title="Advancing Learning & Market Research"
                  >
                    <div class="clip-content">Advancing</div>
                    Learning & Market Research
                  </th>
                  <td v-for="index in [0,1,2,3,4]">
                    <matrix-cell
                            v-bind:count="filtered_summary[0][index]"
                            color_base="61,155,180"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 0 })"/>
                  </td>

                  <td v-for="index in [5,6,7,8,9]">
                    <matrix-cell
                            v-bind:count="filtered_summary[0][index]"
                            color_base="0,47,108"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 0 })"/>
                  </td>
                  <th
                          scope="row"
                          class="engage"
                          title="Advancing Learning & Market Research"
                  >
                    <div class="clip-content">Advancing</div>
                    Learning & Market Research
                  </th>
                  <th
                          class="group-title-vert"
                          rowspan="6"
                  >
                    <div class="title-rotate">
                      Ways We Engage
                      <a
                              href="#"
                              data-toggle="tooltip"
                              data-placement="left"
                              title="We engage in a number of ways..."
                      >
                        <i class="fas fa-info-circle"></i>
                      </a>
                    </div>
                  </th>

                </tr>
                <tr>
                  <th
                          scope="row"
                          class="engage"
                          title="Catalyzing Private Sector Resources"
                  >
                    <div class="clip-content">Catalyzing</div>
                    Private Sector
                    <div class="clip-content">Resources</div>
                  </th>

                  <td v-for="index in [0,1,2,3,4]">
                    <matrix-cell
                            v-bind:count="filtered_summary[1][index]"
                            color_base="61,155,180"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 1 })"/>
                  </td>
                  <td v-for="index in [5,6,7,8,9]">
                    <matrix-cell
                            v-bind:count="filtered_summary[1][index]"
                            color_base="0,47,108"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 1 })"/>
                  </td>
                  <th
                          scope="row"
                          class="engage"
                          title="Catalyzing Private Sector Resources"
                  >
                    <div class="clip-content">Catalyzing</div>
                    Private Sector
                    <div class="clip-content">Resources</div>
                  </th>
                </tr>
                <tr>
                  <th
                          scope="row"
                          class="engage"
                          title="Harnessing Private Sector Expertise & Innovation"
                  >
                    <div class="clip-content">Harnessing</div>
                    Private Sector
                    <div class="clip-content">Expertise</div>
                    <div class="clip-content">& Innovation</div>
                  </th>

                  <td v-for="index in [0,1,2,3,4]">
                    <matrix-cell
                            v-bind:count="filtered_summary[2][index]"
                            color_base="61,155,180"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 2 })"/>
                  </td>
                  <td v-for="index in [5,6,7,8,9]">
                    <matrix-cell
                            v-bind:count="filtered_summary[2][index]"
                            color_base="0,47,108"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 2 })"/>
                  </td>
                  <th
                          scope="row"
                          class="engage"
                          title="Harnessing Private Sector Expertise & Innovation"
                  >
                    <div class="clip-content">Harnessing</div>
                    Private Sector
                    <div class="clip-content">Expertise</div>
                    <div class="clip-content">& Innovation</div>
                  </th>
                </tr>
                <tr>
                  <th
                          scope="row"
                          class="engage"
                          title="Information-Sharing & Stratetic Alignment"
                  >
                    <div class="clip-content">Information</div>
                    -Sharing
                    <div class="clip-content">& Strategic</div>
                    <div class="clip-content">Alignment</div>
                  </th>

                  <td v-for="index in [0,1,2,3,4]">
                    <matrix-cell
                            v-bind:count="filtered_summary[3][index]"
                            color_base="61,155,180"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 3 })"/>
                  </td>

                  <td v-for="index in [5,6,7,8,9]">
                    <matrix-cell
                            v-bind:count="filtered_summary[3][index]"
                            color_base="0,47,108"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 3 })"/>
                  </td>
                  <th
                          scope="row"
                          class="engage"
                          title="Information-Sharing & Stratetic Alignment"
                  >
                    <div class="clip-content">Information</div>
                    -Sharing
                    <div class="clip-content">& Strategic</div>
                    <div class="clip-content">Alignment</div>
                  </th>
                </tr>
                <tr>
                  <th
                          scope="row"
                          class="engage"
                          title="Strengthening the Enabling Environment"
                  >
                    <div class="clip-content">Strengthening</div>
                    the Enabling
                    <div class="clip-content">Environment</div>
                  </th>

                  <td v-for="index in [0,1,2,3,4]">
                    <matrix-cell
                            v-bind:count="filtered_summary[4][index]"
                            color_base="61,155,180"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 4 })"/>
                  </td>
                  <td v-for="index in [5,6,7,8,9]">
                    <matrix-cell
                            v-bind:count="filtered_summary[4][index]"
                            color_base="0,47,108"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 4 })"/>
                  </td>
                  <th
                          scope="row"
                          class="engage"
                          title="Strengthening the Enabling Environment"
                  >
                    <div class="clip-content">Strengthening</div>
                    the Enabling
                    <div class="clip-content">Environment</div>
                  </th>
                </tr>
                <tr>
                  <th
                          scope="row"
                          class="engage"
                          title="Unlocking Private Investment"
                  >
                    Unlocking Private
                    <div class="clip-content">Investment</div>
                  </th>

                  <td v-for="index in [0,1,2,3,4]">
                    <matrix-cell
                            v-bind:count="filtered_summary[5][index]"
                            color_base="61,155,180"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 5 })"/>
                  </td>
                  <td v-for="index in [5,6,7,8,9]">
                    <matrix-cell
                            v-bind:count="filtered_summary[5][index]"
                            color_base="0,47,108"
                            @show-docs-modal="build_docs_modal({ value_index: index, way_index: 5 })"/>
                  </td>
                  <th
                          scope="row"
                          class="engage"
                          title="Unlocking Private Investment"
                  >
                    Unlocking Private
                    <div class="clip-content">Investment</div>
                  </th>
                </tr>
                </tbody>
              </table>
            </div>

            <div class="row no-gutters d-lg-none">
              <div class="col-lg-6">


                <table class="table egm-table" id="pse-table">
                  <thead>
                  <tr>
                    <th scope="col" class="set-group-title-vert-width"></th>
                    <th scope="col"></th>
                    <th scope="colgroup" colspan="5" class="group-title">
                      Private Sector Value Propositions
                      <a
                              href="#"
                              data-toggle="tooltip"
                              data-placement="bottom"
                              title="PSE, or Private sector engagement, key values are..."
                      >
                        <i class="fas fa-info-circle"></i>
                      </a>
                    </th>
                  </tr>
                  <tr>
                    <th scope="col"></th>
                    <th scope="col"></th>
                    <th
                            scope="col"
                            class="value"
                            title="Ability to Influence Policy"
                    >
                      <div class="clip-content">Ability</div>
                      <div class="clip-content">to Influence</div>
                      <div class="clip-content">Policy</div>
                    </th>
                    <th
                            scope="col"
                            class="value"
                            title="Efficiency & Effectiveness"
                    >
                      <div class="clip-content">Efficiency</div>
                      <div class="clip-content">& Effectiveness</div>
                    </th>
                    <th scope="col" class="value" title="Flexibility & Pace">
                      <div class="clip-content">Flexibility</div>
                      <div class="clip-content">& Pace</div>
                    </th>
                    <th
                            scope="col"
                            class="value"
                            title="Innovation, Expertise, and Capabilities"
                    >
                      <a
                              class="reset-color"
                              data-toggle="modal"
                              data-target="#valueModal"
                              style="cursor:pointer"
                      >
                        <div class="clip-content">Innovation,</div>
                        <div class="clip-content">Expertise,</div>
                        <div class="clip-content">& Capabilities</div>
                      </a>
                    </th>
                    <th
                            scope="col"
                            class="value"
                            title="Scale, Sustainability, & Reach"
                    >
                      Scale,
                      <div class="clip-content">Sustainability,</div>
                      <div class="clip-content">& Reach</div>
                    </th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                    <th class="group-title-vert" rowspan="6">
                      <div class="title-rotate">
                        Ways We Engage
                        <a
                                href="#"
                                data-toggle="tooltip"
                                data-placement="right"
                                title="We engage in a number of ways..."
                        >
                          <i class="fas fa-info-circle"></i>
                        </a>
                      </div>
                    </th>
                    <th
                            scope="row"
                            class="engage"
                            title="Advancing Learning & Market Research"
                    >
                      <div class="clip-content">Advancing</div>
                      Learning & Market Research
                    </th>
                    <td v-for="index in [0,1,2,3,4]">
                      <matrix-cell
                              v-bind:count="filtered_summary[0][index]"
                              color_base="61,155,180"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 0 })"/>
                    </td>

                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage"
                            title="Catalyzing Private Sector Resources"
                    >
                      <div class="clip-content">Catalyzing</div>
                      Private Sector
                      <div class="clip-content">Resources</div>
                    </th>

                    <td v-for="index in [0,1,2,3,4]">
                      <matrix-cell
                              v-bind:count="filtered_summary[1][index]"
                              color_base="61,155,180"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 1 })"/>
                    </td>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage"
                            title="Harnessing Private Sector Expertise & Innovation"
                    >
                      <div class="clip-content">Harnessing</div>
                      Private Sector
                      <div class="clip-content">Expertise</div>
                      <div class="clip-content">& Innovation</div>
                    </th>

                    <td v-for="index in [0,1,2,3,4]">
                      <matrix-cell
                              v-bind:count="filtered_summary[2][index]"
                              color_base="61,155,180"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 2 })"/>
                    </td>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage"
                            title="Information-Sharing & Stratetic Alignment"
                    >
                      <div class="clip-content">Information</div>
                      -Sharing
                      <div class="clip-content">& Strategic</div>
                      <div class="clip-content">Alignment</div>
                    </th>

                    <td v-for="index in [0,1,2,3,4]">
                      <matrix-cell
                              v-bind:count="filtered_summary[3][index]"
                              color_base="61,155,180"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 3 })"/>
                    </td>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage"
                            title="Strengthening the Enabling Environment"
                    >
                      <div class="clip-content">Strengthening</div>
                      the Enabling
                      <div class="clip-content">Environment</div>
                    </th>

                    <td v-for="index in [0,1,2,3,4]">
                      <matrix-cell
                              v-bind:count="filtered_summary[4][index]"
                              color_base="61,155,180"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 4 })"/>
                    </td>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage"
                            title="Unlocking Private Investment"
                    >
                      Unlocking Private
                      <div class="clip-content">Investment</div>
                    </th>

                    <td v-for="index in [0,1,2,3,4]">
                      <matrix-cell
                              v-bind:count="filtered_summary[5][index]"
                              color_base="61,155,180"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 5 })"/>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
              <div class="col-lg-6">
                <table class="table egm-table mt-4 mt-lg-0" id="usaid-table">
                  <thead>
                  <tr>
                    <th
                            scope="col"
                            class="d-lg-none set-group-title-vert-width"
                    ></th>
                    <th scope="col" class="d-lg-none"></th>
                    <th scope="colgroup" colspan="5" class="group-title">
                      Development Actor Value Propositions
                      <a
                              href="#"
                              data-toggle="tooltip"
                              data-placement="bottom"
                              title="USAID offers a set of key values..."
                      >
                        <i class="fas fa-info-circle"></i>
                      </a>
                    </th>
                    <th scope="col" class="d-none d-lg-table-cell"></th>
                    <th
                            scope="col"
                            class="d-none d-lg-table-cell set-group-title-vert-width"
                    ></th>
                  </tr>
                  <tr>
                    <th scope="col" class="d-lg-none"></th>
                    <th scope="col" class="d-lg-none"></th>
                    <th
                            scope="col"
                            class="value"
                            title="Reputation & Credible Convening Power"
                    >
                      Reputation
                      <div class="clip-content">& Credible</div>
                      <div class="clip-content">Convening Power</div>
                    </th>
                    <th
                            scope="col"
                            class="value"
                            title="Risk-Mitigation & Flexible Authorities"
                    >
                      <div class="clip-content">Risk-Mitigation</div>
                      <div class="clip-content">& Flexible</div>
                      <div class="clip-content">Authorities</div>
                    </th>
                    <th
                            scope="col"
                            class="value"
                            title="Sectoral Expertise & Knowledge"
                    >
                      Sectoral Expertise
                      <div class="clip-content">& Knowledge</div>
                    </th>
                    <th
                            scope="col"
                            class="value"
                            title="Strong In-Country Networks & Relationships"
                    >
                      Strong
                      <div class="clip-content">In-Country</div>
                      <div class="clip-content">Networks & Relationships</div>
                    </th>
                    <th
                            scope="col"
                            class="value"
                            title="Support to Strengthen Enabling Environments"
                    >
                      Support
                      <div class="clip-content">to Strengthen</div>
                      <div class="clip-content">Enabling Environments</div>
                    </th>
                    <th scope="col" class="d-none d-lg-table-cell"></th>
                    <th scope="col" class="d-none d-lg-table-cell"></th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                    <th class="d-lg-none group-title-vert" rowspan="6">
                      <div class="title-rotate">
                        Ways We Engage
                        <a
                                href="#"
                                data-toggle="tooltip"
                                data-placement="right"
                                title="We engage in a number of ways..."
                        >
                          <i class="fas fa-info-circle"></i>
                        </a>
                      </div>
                    </th>
                    <th
                            scope="row"
                            class="engage d-lg-none"
                            title="Advancing Learning & Market Research"
                    >
                      <div class="clip-content">Advancing</div>
                      Learning & Market Research
                    </th>

                    <td v-for="index in [5,6,7,8,9]">
                      <matrix-cell
                              v-bind:count="filtered_summary[0][index]"
                              color_base="0,47,108"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 0 })"/>
                    </td>
                    <th
                            scope="row"
                            class="engage d-none d-lg-table-cell"
                            title="Advancing Learning & Market Research"
                    >
                      <div class="clip-content">Advancing</div>
                      Learning & Market Research
                    </th>
                    <th
                            class="d-none d-lg-table-cell group-title-vert"
                            rowspan="6"
                    >
                      <div class="title-rotate">
                        Ways We Engage
                        <a
                                href="#"
                                data-toggle="tooltip"
                                data-placement="left"
                                title="We engage in a number of ways..."
                        >
                          <i class="fas fa-info-circle"></i>
                        </a>
                      </div>
                    </th>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage d-lg-none"
                            title="Catalyzing Private Sector Resources"
                    >
                      <div class="clip-content">Catalyzing</div>
                      Private Sector
                      <div class="clip-content">Resources</div>
                    </th>

                    <td v-for="index in [5,6,7,8,9]">
                      <matrix-cell
                              v-bind:count="filtered_summary[1][index]"
                              color_base="0,47,108"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 1 })"/>
                    </td>
                    <th
                            scope="row"
                            class="engage d-none d-lg-table-cell"
                            title="Catalyzing Private Sector Resources"
                    >
                      <div class="clip-content">Catalyzing</div>
                      Private Sector
                      <div class="clip-content">Resources</div>
                    </th>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage d-lg-none"
                            title="Harnessing Private Sector Expertise & Innovation"
                    >
                      <div class="clip-content">Harnessing</div>
                      Private Sector
                      <div class="clip-content">Expertise</div>
                      <div class="clip-content">& Innovation</div>
                    </th>

                    <td v-for="index in [5,6,7,8,9]">
                      <matrix-cell
                              v-bind:count="filtered_summary[2][index]"
                              color_base="0,47,108"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 2 })"/>
                    </td>
                    <th
                            scope="row"
                            class="engage d-none d-lg-table-cell"
                            title="Harnessing Private Sector Expertise & Innovation"
                    >
                      <div class="clip-content">Harnessing</div>
                      Private Sector
                      <div class="clip-content">Expertise</div>
                      <div class="clip-content">& Innovation</div>
                    </th>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage d-lg-none"
                            title="Information-Sharing & Stratetic Alignment"
                    >
                      <div class="clip-content">Information</div>
                      -Sharing
                      <div class="clip-content">& Strategic</div>
                      <div class="clip-content">Alignment</div>
                    </th>

                    <td v-for="index in [5,6,7,8,9]">
                      <matrix-cell
                              v-bind:count="filtered_summary[3][index]"
                              color_base="0,47,108"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 3 })"/>
                    </td>
                    <th
                            scope="row"
                            class="engage d-none d-lg-table-cell"
                            title="Information-Sharing & Stratetic Alignment"
                    >
                      <div class="clip-content">Information</div>
                      -Sharing
                      <div class="clip-content">& Strategic</div>
                      <div class="clip-content">Alignment</div>
                    </th>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage d-lg-none"
                            title="Strengthening the Enabling Environment"
                    >
                      <div class="clip-content">Strengthening</div>
                      the Enabling
                      <div class="clip-content">Environment</div>
                    </th>

                    <td v-for="index in [5,6,7,8,9]">
                      <matrix-cell
                              v-bind:count="filtered_summary[4][index]"
                              color_base="0,47,108"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 4 })"/>
                    </td>
                    <th
                            scope="row"
                            class="engage d-none d-lg-table-cell"
                            title="Strengthening the Enabling Environment"
                    >
                      <div class="clip-content">Strengthening</div>
                      the Enabling
                      <div class="clip-content">Environment</div>
                    </th>
                  </tr>
                  <tr>
                    <th
                            scope="row"
                            class="engage d-lg-none"
                            title="Unlocking Private Investment"
                    >
                      Unlocking Private
                      <div class="clip-content">Investment</div>
                    </th>

                    <td v-for="index in [5,6,7,8,9]">
                      <matrix-cell
                              v-bind:count="filtered_summary[5][index]"
                              color_base="0,47,108"
                              @show-docs-modal="build_docs_modal({ value_index: index, way_index: 5 })"/>
                    </td>
                    <th
                            scope="row"
                            class="engage d-none d-lg-table-cell"
                            title="Unlocking Private Investment"
                    >
                      Unlocking Private
                      <div class="clip-content">Investment</div>
                    </th>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <!-- /.row tables -->
          </div>
          <!-- /.container-fluid -->
          

          <div class="container mt-5 mb-4">
            <h4>About the Evidence Gap Map</h4>
            <p>
              The vertical axis reflects the ways we engage... The horizontal axis
              reflects key values... It is divided into two sections, on the
              right... and on the left...
            </p>
          </div>
          <div class="container mb-5">
            <h4>Help to Fill the Gaps</h4>
            <p>
              We invite you to contribute documents to add to the map, using this
              <a href="">form</a>.
            </p>
          </div>
          <!-- /.container -->

          <!-- Document Modal -->
          <relevant-documents :state="docs_modal_state" :is-hidden="!show_documents_modal" @close-docs-modal="show_documents_modal = false" @update-doc-detail-id="document_detail_id = $event"/>
        </main>
      </div>
    </script>
    <script type="text/x-template" id="list-component">
      <div class="container mb-5">
        <template v-for="(doc_type, index) in doc_types" :key="index">
          <div :class="doc_type ? 'doc-type-' + doc_type.toLowerCase().replace(/[ \/]/g,'-') : 'doc-type-unknown'">
            <h5 class="d-flex justify-content-between align-items-center px-3 text-uppercase font-weight-bolder">
              {{ doc_type ? doc_type : 'Unknown Type' }}
              <span class="badge badge-secondary badge-pill" >{{ docs_in_categories[doc_type].length }}</span>
            </h5>
            <ul class="list-group list-group-flush mb-4">
              <li v-for="(doc, index) in docs_in_categories[doc_type]" :key="index" class="list-group-item">
                <router-link :to="{ name: 'details', params: { id: doc['Document ID'], document: doc } }">{{ doc['Document Title'] }}</router-link>
              </li>
            </ul>
          </div>
        </template>

        

</div>
</script>


    <script type="text/x-template" id="details-component">
      <div>

        <header>
          <!-- Fixed navbar -->
          <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <router-link :to="{name: 'egm'}" class="navbar-brand"><i class="fas fa-chevron-left mr-2"></i> Evidence Gap Map</router-link>
          </nav>
        </header>
        <!-- <div v-if="loading" class="d-flex justify-content-center">
          <div class="spinner-border loading-spinner" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div> -->
        <div v-if="error" class="alert alert-danger details-error" role="alert">
          {{ error }}
        </div>
        <main v-if="document_details" role="main">

          <div class="bg-vb-lt-blue">
            <div class="container position-relative text-dark" id="top-document-detail">
              <h5 id="doc-type" class="mb-1 text-uppercase text-dark font-weight-bolder">
                {{ document_details['Type of Document'] }}
              </h5>
              <h1 id="doc-title" class="mb-1 text-white">
                {{ document_details['Document Title'] }}
              </h1>
              <p class="my-0"><span class="text-uppercase font-weight-lighter">author:</span> {{ document_details['Author(s)'].join(', ') }}</p>
              <p class="my-0"><span class="text-uppercase font-weight-lighter">published by:</span> {{ document_details['Publishing Institution(s)'].join(', ') }}</p>
              <a v-if="document_details['Internet URL of Document']" class="btn btn-dark btn-lg" id="view-document-link" :href="document_details['Internet URL of Document']" target="_blank" role="button">View Document <i class="fas fa-external-link-alt ml-2"></i></a>
            </div>
          </div>


          <div class="container mt-5 mb-4">
            <div class="row">
              <div class="col-sm-7 col-lg-8">
                <h4>Key Findings</h4>
                <ul class="list-unstyled">
                  <li v-for="entry in document_findings">{{ entry }}</li>
                </ul>
                <div v-if="document_recommendations.length > 0">
                  <h4>Key Recommendations</h4>
                  <ul class="list-unstyled">
                    <li v-for="entry in document_recommendations">{{ entry }}</li>
                  </ul>
                </div>

        <h4>Contribute Improvements</h4>
        <p>Anything amiss? We invite you to contribute additions or corrections to this document description using this <a href="">form</a>.</p>
              </div>
              <div class="col-sm-5 col-lg-4">
                <ul class="list-group mt-3">
                  <li v-if="document_details['PSE Ways We Engage']" class="list-group-item p-0 border-left-0 border-right-0">
                    <h6 class="mb-0 px-3 py-2 wash-400 narrow-font text-uppercase font-weight-bolder">PSE Ways We Engage</h6>
                    <ul class="list-unstyled px-3 py-2 list-spaced wash-100" >
                      <li v-for="(way, index) in document_details['PSE Ways We Engage']" :key="index">{{ way.replace(';', '') }}</li>
                    </ul>
                  </li>
                  <li v-if="document_details['PSE Key Values']" class="list-group-item p-0 border-left-0 border-right-0">
                    <h6 class="mb-0 px-3 py-2 bg-pse-lt-blue text-white narrow-font text-uppercase font-weight-bolder">Private Sector Value Propositions</h6>
                    <ul class="list-unstyled px-3 py-2 list-spaced wash-100">
                      <li v-for="(value, index) in document_details['PSE Key Values']" :key="index">{{value}}</li>
                    </ul>
                  </li>
                  <li v-if="document_details['PSE Key Values USAID Offers']"  class="list-group-item p-0 border-left-0 border-right-0">
                    <h6 class="mb-0 px-3 py-2 bg-usaid-blue text-white narrow-font text-uppercase font-weight-bolder">Development Actor Value Propositions</h6>
                    <ul class="list-unstyled px-3 py-2 list-spaced wash-100">
                      <li v-for="(value, index) in document_details['PSE Key Values USAID Offers']" :key="index">{{value}}</li>
                    </ul>
                  </li>
                </ul>
                <ul class="list-group list-group-flush">
                  <li v-if="document_details['Technical Sector']" class="list-group-item">
                    <h5 class="mb-1">Technical Sector</h5>
                    <p class="mb-0" v-for="(sector, index) in document_details['Technical Sector']" :key="sector">{{ sector }}</p>
                  </li>
                  <li v-if="document_details['Special Considerations']" class="list-group-item">
                    <h5 class="mb-1">Special Considerations</h5>
                    <p class="mb-0"v-for="(consideration, index) in document_details['Special Considerations']" :key="consideration">{{ consideration }}</p>
                  </li>
                  <li v-if="document_details['Private Sector Industry']" class="list-group-item">
                    <h5 class="mb-1">Private Sector Industry</h5>
                    <p class="mb-0"v-for="(industry, index) in document_details['Private Sector Industry']" :key="industry">{{ industry }}</p>
                  </li>
                  <li v-if="document_details['Country(ies)']" class="list-group-item">
                    <h5 class="mb-1">Country(ies)</h5>
                    <p class="mb-0" v-for="(country, index) in document_details['Country(ies)']" :key="country">{{country}}</p>
                  </li>
                  <li v-if="document_details['USAID Region']" class="list-group-item">
                    <h5 class="mb-1">USAID Region</h5>
                    <p class="mb-0"v-for="(region, index) in document_details['USAID Region']" :key="region">{{region}}</p>
                  </li>
                  <li v-if="document_details['Internet URL of Document']" class="list-group-item">
                    <h5 class="mb-1">Internet URL</h5>
                    <p class="mb-0 text-small"><a :href="document_details['Internet URL of Document']" target="_blank">{{ document_details['Internet URL of Document'] || '---' | truncate(45) }}</a></p>
                  </li>
                  <li v-if="document_details['USAID-Funded?']" class="list-group-item">
                    <h5 class="mb-1">USAID Funded</h5>
                  </li>
                </ul>
              </div>
            </div>
          </div>

        </main>
      </div>
    </script>
    <script type="text/x-template" id="relevant-docs-modal-component">
      <div v-if="!isHidden">
        <!-- <transition name="modal"> -->
          <div class="modal-mask">
            <div class="modal modal-wrapper" tabindex="-1">
              <div class="modal-dialog modal-lg modal-dialog-scrollable">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">
                      <span class="badge badge-secondary badge-pill mr-1">{{ state.num_relevant_docs }}</span>
                      Relevant Documents
                    </h5>
                    <button type="button" class="close" @click="$emit('close-docs-modal')">
                      <span>&times;</span>
                    </button>
                  </div>
                  <div class="modal-body p-0">
                    <div class="card-header">
                      <p class="mb-0 text-uppercase font-weight-lighter">
                        {{ state.value_title }}
                      </p>
                      <h5 class="mb-2">
                        {{ state.value_text }}
                      </h5>
                      <p class="mb-0 text-uppercase font-weight-lighter">
                        Way We Engage
                      </p>
                      <h5 class="mb-1">
                        {{ state.way_text.replace(';', '') }}
                      </h5>
                    </div>
                    <div class="card-body px-0 pt-0">
                      <template v-for="doc_type in doc_types">
                        <h6 class="d-flex justify-content-between align-items-center text-bluegrey mt-4 px-3 text-uppercase font-weight-bolder">
                          {{ doc_type ? doc_type : 'Unknown Type' }}
                          <span class="badge badge-secondary bg-bluegrey badge-pill">{{ docs_in_categories[doc_type].length }}</span>
                        </h6>
                        <ul class="list-group list-group-flush">
                          <li v-for="doc in docs_in_categories[doc_type]" :key="doc['Document ID']" class="list-group-item">
                            <router-link :to="{ name: 'details', params: { id: doc['Document ID'], document: doc } }">{{ doc['Document Title'] }}</router-link>
                          </li>
                        </ul>
                      </template>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <!-- </transition> -->
      </div>
    </script>
    <script type="text/x-template" id="matrix-cell-component" src="js/components/matrix-cell-component.js">
      <div class="square" v-bind:style="{ background: 'rgba(' + color_base + ',' + count/50 + ')'}">
        <a class="count" v-show="count > 0" @click="$emit('show-docs-modal')" v-bind:style="{ color: 'rgb(' + color_base + ')'}">
          {{count}}
        </a>
      </div>
    </script>

    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>


    <!-- VueJS From CDN -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-router@3.1.5"></script>

    <!-- axios From CDN -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- Vue Multiselect from CDN -->
    <script src="https://unpkg.com/vue-multiselect@2.1.6"></script>


    <!-- EGM Vue App Code -->
    <script src="js/egm.js"></script>

    <!-- <script type="text/javascript" src="js/bootstrap-multiselect.js"></script> -->


    <script>
      $(function() {
        $('[data-toggle="tooltip"]').tooltip();
      });
    </script>

    
  </body>
</html>
